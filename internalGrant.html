<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internal Grants Management</title>

    <script>
    const token = localStorage.getItem('accessToken');
    if (!token) {
        // If there's no token, the user is not logged in.
        // Alert the user and redirect them to the login page immediately.
        alert('Access Denied. You must be logged in to view this page.');
        window.location.href = '/'; // Redirects to the root (your login page)
    }
    </script>
    
   

    <!-- ... your existing meta tags, scripts, and links ... -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" /> <!-- Ensure this is version 6.5.1 or newer -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
        
    
    
    <!-- Our single, shared application stylesheet -->
    <link rel="stylesheet" href="/css/main.css">

     <!-- In internalGrants.html, inside the <head> tag -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Tailwind CSS is required for the form we will add later -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    

<div class="app-container">
    <!-- ===== Shared Sidebar ===== -->
    <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-branding">
                    <!-- Kept your original logo path -->
                    <img src="/css/UniversityLogo.png" alt="University Logo" class="sidebar-logo"> 
                    <h1 class="sidebar-title">Research Portal</h1>
                </div>
                <!-- NEW: Button to collapse the sidebar on desktop -->
                <button type="button" class="sidebar-collapse-btn" id="sidebarCollapseBtn" aria-label="Collapse sidebar">
                    <i class="fa-solid fa-angles-left"></i>
                </button>
            </div>
            <nav class="sidebar-nav">
                <!-- Kept your original navigation links -->
                <a href="welcome.html" class="nav-item">
                    <i class="fa-solid fa-house"></i>
                    <span class="nav-text">Home</span>
                </a>
                <a href="externalGrant.html" class="nav-item ">
                    <i class="fa-solid fa-file-invoice-dollar"></i>
                    <span class="nav-text">External Grants</span>
                </a>
                <a href="internalGrant.html" class="nav-item active">
                    <i class="fa-solid fa-building-columns"></i>
                    <span class="nav-text">Internal Grants</span>
                </a>
                <a href="inventory.html" class="nav-item">
                     <i class="fa-solid fa-boxes-stacked"></i>
                     <span class="nav-text">Inventory</span>
                </a>
                <a href="sopsAndTemplates.html" class="nav-item" aria-current="page">
                    <i class="fa-solid fa-file-lines"></i>
                    <span class="nav-text">SOP & Templates</span>
                </a>
            </nav>
            <div class="sidebar-footer">
                <div class="profile-section">
                    <div class="profile-avatar"></div>
                    <span class="username">User</span>
                </div>
                <!-- UPDATED: Logout button now uses an ID for the script -->
                <button type="button" id="logoutBtn" class="logout-btn" title="Logout" aria-label="Logout">
                    <i class="fa-solid fa-right-from-bracket"></i>
                </button>
            </div>
        </aside>

        <!-- ===== Main Content Area ===== -->
        <main class="main-content">
            <header class="main-header">
                <!-- Hamburger menu for mobile/tablet -->
                <button type="button" class="hamburger-btn" id="sidebarToggleBtn" aria-label="Toggle sidebar">
                    <i class="fa-solid fa-bars"></i>
                </button>
                <h2 id="main-header-title">Internal Grants Management</h2>
            </header>

            <!-- Main Data View (Table, Controls, etc.) -->
            <div id="mainDataView">
    <!-- Stat Cards -->
    <section class="stat-cards-container">
        <div class="stat-card">
            <div class="card-icon bg-sky-100 text-sky-600"><i class="fa-solid fa-flask-vial"></i></div>
            <div class="card-content">
                <p class="card-title">Active Grants</p>
                <p class="card-value" id="statActiveGrants">0</p>
            </div>
        </div>
        <div class="stat-card">
            <div class="card-icon bg-emerald-100 text-emerald-600"><i class="fa-solid fa-hand-holding-dollar"></i></div>
            <div class="card-content">
                <p class="card-title">Total Funding</p>
                <p class="card-value" id="statTotalFunding">â‚¹0</p>
            </div>
        </div>
        <div class="stat-card">
            <div class="card-icon bg-amber-100 text-amber-600"><i class="fa-solid fa-school"></i></div>
            <div class="card-content">
                <p class="card-title">Total Schools</p>
                <p class="card-value" id="statTotalSchools">0</p>
            </div>
        </div>
         <div class="stat-card">
            <div class="card-icon bg-rose-100 text-rose-600"><i class="fa-solid fa-users"></i></div>
            <div class="card-content">
                <p class="card-title">Total Faculties</p>
                <p class="card-value" id="statTotalFaculties">0</p>
            </div>
        </div>
    </section>

    <!-- The rest of your mainDataView will go here... -->

                <!-- The new, unified controls section -->
                <!-- Controls: Buttons, Filters, Search -->
<div class="table-controls">
    <div class="main-actions">
        <button type="button" id="addGrantBtn" class="btn btn-primary">
            <i class="fa-solid fa-plus mr-2"></i> Add New Grant
        </button>
        <button type="button" id="exportBtn" class="btn btn-secondary">
            <i class="fa-solid fa-file-excel mr-2"></i> Download Records
        </button>
    </div>
    <div class="filters-and-search">
    <!-- The new filter button -->
    <button type="button" id="openFilterModalBtn" class="btn btn-secondary">
        <i class="fa-solid fa-filter mr-2"></i> Add Filter
    </button>
    <!-- Container where active filter pills will be displayed -->
    <div id="activeFiltersContainer" class="flex items-center gap-2 flex-wrap"></div>

    <div class="search-bar">
        <i class="fa-solid fa-magnifying-glass search-icon"></i>
        <input type="text" id="globalSearchInput" placeholder="Search grants...">
    </div>
    </div>
</div>



                <!-- The data table -->
<div class="table-container" style="padding: 0 10px; overflow-x: auto;">
    <table id="dataTable" class="data-table">
    <thead>
        <tr>
        <!-- Re-adjusted widths after removing a column -->
        <th style="width: 5%;">S. No</th>
            <th style="width: 12%;">Grant ID</th>
            <th style="width: 25%;">Project Title</th>
            <th style="width: 20%;">Principal Investigator</th>
            <th style="width: 10%;">Status</th>
            <th style="width: 10%;">Actions</th>
    </tr>
    </thead>
    <tbody id="dataTableBody">
        <!-- JS will populate this -->
    </tbody>
</table>
                </div>
                <!-- Pagination -->
                    <nav class="pagination-container" aria-label="Table navigation">
                <span class="pagination-info" id="paginationInfo"></span>
                <ul class="pagination-list" id="paginationList">
                    <!-- Pagination links will be inserted here by JS -->
                </ul>
            </nav>
        </div>
            
                

            <!-- Accordion Form Container (Initially Hidden) -->
            <!-- We will build the form inside this container in the next steps -->
            <div id="grantFormContainer" class="form-container my-6 max-w-4xl mx-auto" style="display: none;">
                <form id="grantForm" class="bg-white p-6 md:p-8 rounded-lg shadow-lg space-y-6">
                    <h1 id="formTitle" class="text-3xl font-bold text-gray-900 mb-6 border-b pb-4">Internal Grant Details</h1>
                    <input type="hidden" id="applicationId" name="applicationId">



                    <div class="space-y-3" id="accordion-wrapper">
                   <!-- Section 1: Project Identification                          -->
<!-- ========================================================== -->
<div class="border rounded-md overflow-hidden">
    <!-- Accordion Button -->
    <button type="button" class="accordion-button w-full flex justify-between items-center text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 font-medium text-gray-800 focus:outline-none" aria-expanded="true">
        <span>1. Project Identification</span>
        <!-- SVG Icon for dropdown arrow -->
        <svg class="w-5 h-5 transition-transform duration-300 transform" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>

    <!-- Accordion Content (Open by default) -->
    <div class="accordion-content p-4 space-y-4 border-t border-gray-200" style="display: block;">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
            
            <div>
                <label for="applicationNumber" class="block text-sm font-medium text-gray-700 mb-1 required">Application Number</label>
                <input type="text" name="applicationNumber" id="applicationNumber" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500" required>
            </div>

            <div>
                <label for="projectName" class="block text-sm font-medium text-gray-700 mb-1 required">Project Name</label>
                <input type="text" name="projectName" id="projectName" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500" required>
            </div>

            <div>
                <label for="grantNumber" class="block text-sm font-medium text-gray-700 mb-1">Internal Grant Number</label>
                <input type="text" name="grantNumber" id="grantNumber" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>
            
            <div>
                <label for="school" class="block text-sm font-medium text-gray-700 mb-1">School/Institute</label>
                <select name="school" id="school" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="">Select School</option>
                    <option value="Jindal Global Law School">Jindal Global Law School</option>
                    <option value="Jindal Global Business School">Jindal Global Business School</option>
                    <option value="Jindal School of Art and Architecture">Jindal School of Art and Architecture</option>
                    <option value="Jindal School of International Affairs">Jindal School of International Affairs</option>
                    <option value="Jindal School of Government and Public Policy">Jindal School of Government and Public Policy</option>
                    <option value="Jindal School of Liberal Arts and Humanities">Jindal School of Liberal Arts and Humanities</option>
                    <option value="Jindal School of Journalism and Communication">Jindal School of Journalism and Communication</option>
                    <option value="Jindal School of Banking and Finance">Jindal School of Banking and Finance</option>
                    <option value="Jindal School of Environment and Sustainability">Jindal School of Environment and Sustainability</option>
                    <option value="Jindal School of Psychology and Counselling">Jindal School of Psychology and Counselling</option>
                    <option value="Jindal School of Languages and Literature">Jindal School of Languages and Literature</option>
                    <option value="Jindal School of Public Health and Human Development">Jindal School of Public Health and Human Development</option>
                    <option value="Jindal India Institute(JII)">Jindal India Institute(JII)</option>
                    <option value="Jindal Institute of Behavioural Sciences">Jindal Institute of Behavioural Sciences</option>
                    <option value="International Institute for Higher Education Research & Capacity Building">International Institute for Higher Education Research & Capacity Building</option>
                    <option value="The Motwani Jadeja Institute for American Studies (MJIAS)">The Motwani Jadeja Institute for American Studies (MJIAS)</option>
                    <option value="Jindal Institute of Haryana Studies">Jindal Institute of Haryana Studies</option>
                    <option value="The Jindal Institute of Leadership Development and Executive Education (JILDEE)">The Jindal Institute of Leadership Development and Executive Education (JILDEE) </option>

                    <option value="Other">Other (Specify if needed)</option>
                    <!-- Add all other school options here -->
                </select>
            </div>

            <div>
                <label for="term" class="block text-sm font-medium text-gray-700 mb-1">Term</label>
                <select name="term" id="term" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="">Select Term</option>
                    <option value="Short">Short</option>
                    <option value="Medium">Medium</option>
                    <option value="Long">Long</option>
                </select>
            </div>

            <div>
                <label for="totalSanctioned" class="block text-sm font-medium text-gray-700 mb-1">Total Sanctioned Amount</label>
                <input type="number" name="totalSanctioned" id="totalSanctioned" step="0.01" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>

        </div>
    </div>
</div>

<!-- ========================================================== -->
<!-- Section 2: Project Timeline & Status                       -->
<!-- ========================================================== -->
<div class="border rounded-md overflow-hidden">
    <!-- Accordion Button -->
    <button type="button" class="accordion-button w-full flex justify-between items-center text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 font-medium text-gray-800 focus:outline-none" aria-expanded="false">
        <span>2. Project Timeline & Status</span>
        <!-- SVG Icon for dropdown arrow -->
        <svg class="w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>

    <!-- Accordion Content (Hidden by default) -->
    <div class="accordion-content p-4 space-y-4 border-t border-gray-200" style="display: none;">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-x-6 gap-y-4"> <!-- Using a 3-column grid for dates -->
            
            <div>
                <label for="proposalCall" class="block text-sm font-medium text-gray-700 mb-1">Call for Proposals (Month/Year)</label>
                <input type="month" name="proposalCall" id="proposalCall" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>

            <div>
                <label for="sanctionedDate" class="block text-sm font-medium text-gray-700 mb-1">Project Sanctioned Date</label>
                <input type="date" name="sanctionedDate" id="sanctionedDate" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>

            <div>
                <label for="startDate" class="block text-sm font-medium text-gray-700 mb-1">Project Start Date</label>
                <input type="date" name="startDate" id="startDate" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>
            
            <div>
                <label for="endDate" class="block text-sm font-medium text-gray-700 mb-1">Project End Date</label>
                <input type="date" name="endDate" id="endDate" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>

            <div>
                <label for="duration" class="block text-sm font-medium text-gray-700 mb-1">Duration (in days)</label>
                <input type="number" name="duration" id="duration" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100 cursor-not-allowed" readonly>
            </div>
            
            <div class="md:col-span-1"> <!-- Placed for better alignment -->
                <label for="applicationStatus" class="block text-sm font-medium text-gray-700 mb-1">Application Status</label>
                <select name="applicationStatus" id="applicationStatus" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="">Select Status</option>
                    <option value="Accepted">Accepted</option>
                    <option value="Rejected">Rejected</option>
                </select>
            </div>

            <div class="md:col-span-2"> <!-- Spans two columns for better layout -->
                <label for="overallStatus" class="block text-sm font-medium text-gray-700 mb-1">Overall Project Status</label>
                <select name="overallStatus" id="overallStatus" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="">Select Status</option>
                    <option value="Ongoing">Ongoing</option>
                    <option value="Completed">Completed</option>
                    <option value="Delayed">Delayed</option>
                    <option value="Terminated">Terminated</option>
                </select>
            </div>

        </div>
    </div>
</div>


<!-- ========================================================== -->
<!-- Section 3: Personnel - Principal Investigator (PI)         -->
<!-- This is a DYNAMIC section.                                 -->
<!-- ========================================================== -->
<div class="border rounded-md overflow-hidden">
    <!-- Accordion Button -->
    <button type="button" class="accordion-button w-full flex justify-between items-center text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 font-medium text-gray-800 focus:outline-none" aria-expanded="false">
        <span>3. Personnel - Principal Investigator (PI)</span>
        <svg class="w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>

    <!-- Accordion Content -->
    <div class="accordion-content p-4 space-y-4 border-t border-gray-200" style="display: none;">
        
        <!-- This container will hold the dynamically added PI rows -->
        <div id="pi-container" class="space-y-4">
            <!-- JavaScript will insert PI entry rows here. -->
        </div>

        <!-- The button to trigger adding a new PI row -->
        <button type="button" id="addPiBtn" class="flex items-center px-3 py-2 border border-green-600 text-green-600 rounded-md text-sm hover:bg-green-50">
                <svg class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                Add PI
            </button>
        
    </div>
</div>

<!-- Inside the #accordion-wrapper div, right after Section 3 -->

<!-- ========================================================== -->
<!-- Section 4: Personnel - Co-Principal Investigator (Co-PI)   -->
<!-- This is a DYNAMIC section.                                 -->
<!-- ========================================================== -->
<div class="border rounded-md overflow-hidden">
    <!-- Accordion Button -->
    <button type="button" class="accordion-button w-full flex justify-between items-center text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 font-medium text-gray-800 focus:outline-none" aria-expanded="false">
        <span>4. Personnel - Co-Principal Investigator (Co-PI)</span>
        <svg class="w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>

    <!-- Accordion Content -->
    <div class="accordion-content p-4 space-y-4 border-t border-gray-200" style="display: none;">
        
        <!-- This container will hold the dynamically added Co-PI rows -->
        <div id="copi-container" class="space-y-4">
            <!-- JavaScript will insert Co-PI entry rows here. -->
        </div>

        <!-- The button to trigger adding a new Co-PI row -->
        <div class="flex mt-4">
            <button type="button" id="addCoPiBtn" class="flex items-center px-3 py-2 border border-green-600 text-green-600 rounded-md text-sm hover:bg-green-50">
                <svg class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                Add Co-PI
            </button>
        </div>
        
    </div>
</div>      

<!-- ========================================================== -->
<!-- Section 5: Personnel - Human Resources (RA/Staff)          -->
<!-- This is a DYNAMIC section.                                 -->
<!-- ========================================================== -->
<div class="border rounded-md overflow-hidden">
    <!-- Accordion Button -->
    <button type="button" class="accordion-button w-full flex justify-between items-center text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 font-medium text-gray-800 focus:outline-none" aria-expanded="false">
        <span>5. Personnel - Human Resources (RA/Staff)</span>
        <svg class="w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>

    <!-- Accordion Content -->
    <div class="accordion-content p-4 space-y-4 border-t border-gray-200" style="display: none;">
        
        <!-- This container will hold the dynamically added HR rows -->
        <div id="hr-container" class="space-y-4">
            <!-- JavaScript will insert HR entry rows here. -->
        </div>

        <!-- The button to trigger adding a new HR row -->
        <div class="flex mt-4">
            <button type="button" id="addHrBtn" class="flex items-center px-3 py-2 border border-green-600 text-green-600 rounded-md text-sm hover:bg-green-50">
                <svg class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                Add HR Item
            </button>
        </div>
        
    </div>
</div>


<!-- ========================================================== -->
<!-- Section 6: Budget - Field Work                             -->
<!-- This is a DYNAMIC section.                                 -->
<!-- ========================================================== -->
<div class="border rounded-md overflow-hidden">
    <!-- Accordion Button -->
    <button type="button" class="accordion-button w-full flex justify-between items-center text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 font-medium text-gray-800 focus:outline-none" aria-expanded="false">
        <span>6. Budget - Field Work</span>
        <svg class="w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>

    <!-- Accordion Content -->
    <div class="accordion-content p-4 space-y-4 border-t border-gray-200" style="display: none;">
        
        <!-- This container will hold the dynamically added fieldwork rows -->
        <div id="fieldwork-container" class="space-y-4">
            <!-- JavaScript will insert fieldwork entry rows here. -->
        </div>

        <!-- The button to trigger adding a new fieldwork row -->
        <div class="flex mt-4">
            <button type="button" id="addFieldworkBtn" class="flex items-center px-3 py-2 border border-green-600 text-green-600 rounded-md text-sm hover:bg-green-50">
                <svg class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                Add Field Work Item
            </button>
        </div>
        
    </div>
</div>

<!-- ========================================================== -->
<!-- Section 7: Budget - Travel                                 -->
<!-- This is a DYNAMIC section.                                 -->
<!-- ========================================================== -->
<div class="border rounded-md overflow-hidden">
    <!-- Accordion Button -->
    <button type="button" class="accordion-button w-full flex justify-between items-center text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 font-medium text-gray-800 focus:outline-none" aria-expanded="false">
        <span>7. Budget - Travel</span>
        <svg class="w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>

    <!-- Accordion Content -->
    <div class="accordion-content p-4 space-y-4 border-t border-gray-200" style="display: none;">
        
        <!-- This container will hold the dynamically added travel rows -->
        <div id="travel-container" class="space-y-4">
            <!-- JavaScript will insert travel entry rows here. -->
        </div>

        <!-- The button to trigger adding a new travel row -->
        <div class="flex mt-4">
            <button type="button" id="addTravelBtn" class="flex items-center px-3 py-2 border border-green-600 text-green-600 rounded-md text-sm hover:bg-green-50">
                <svg class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                Add Travel Item
            </button>
        </div>
        
    </div>
</div>


<!-- ========================================================== -->
<!-- Section 8: Budget - Accommodation                          -->
<!-- This is a DYNAMIC section.                                 -->
<!-- ========================================================== -->
<div class="border rounded-md overflow-hidden">
    <!-- Accordion Button -->
    <button type="button" class="accordion-button w-full flex justify-between items-center text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 font-medium text-gray-800 focus:outline-none" aria-expanded="false">
        <span>8. Budget - Accommodation</span>
        <svg class="w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>

    <!-- Accordion Content -->
    <div class="accordion-content p-4 space-y-4 border-t border-gray-200" style="display: none;">
        
        <!-- This container will hold the dynamically added accommodation rows -->
        <div id="accommodation-container" class="space-y-4">
            <!-- JavaScript will insert accommodation entry rows here. -->
        </div>

        <!-- The button to trigger adding a new accommodation row -->
        <div class="flex mt-4">
            <button type="button" id="addAccommodationBtn" class="flex items-center px-3 py-2 border border-green-600 text-green-600 rounded-md text-sm hover:bg-green-50">
                <svg class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                Add Accommodation Item
            </button>
        </div>
        
    </div>
</div>


<!-- ========================================================== -->
<!-- Section 9: Budget - Instruments/Resources                  -->
<!-- This is a DYNAMIC section.                                 -->
<!-- ========================================================== -->
<div class="border rounded-md overflow-hidden">
    <!-- Accordion Button -->
    <button type="button" class="accordion-button w-full flex justify-between items-center text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 font-medium text-gray-800 focus:outline-none" aria-expanded="false">
        <span>9. Budget - Instruments/Resources</span>
        <svg class="w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>

    <!-- Accordion Content -->
    <div class="accordion-content p-4 space-y-4 border-t border-gray-200" style="display: none;">
        
        <!-- This container will hold the dynamically added instrument rows -->
        <div id="instruments-container" class="space-y-4">
            <!-- JavaScript will insert instrument entry rows here. -->
        </div>

        <!-- The button to trigger adding a new instrument row -->
        <div class="flex mt-4">
            <button type="button" id="addInstrumentBtn" class="flex items-center px-3 py-2 border border-green-600 text-green-600 rounded-md text-sm hover:bg-green-50">
                <svg class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                Add Instrument/Resource
            </button>
    <!-- *** THIS IS THE NEW BUTTON FOR INTERNAL GRANTS *** -->
    <button type="button" id="assignInventoryBtn" class="flex items-center px-3 py-2 border border-blue-600 text-blue-600 rounded-md text-sm hover:bg-blue-50">
        <svg class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 10.5V6.75a4.5 4.5 0 1 1 9 0v3.75M3.75 21.75h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H3.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" /></svg>
        Assign from Inventory
    </button>
        </div>
        
    </div>
</div>



<!-- ========================================================== -->
<!-- Section 10: Budget - Stationery & Printing                 -->
<!-- This is a DYNAMIC section.                                 -->
<!-- ========================================================== -->
<div class="border rounded-md overflow-hidden">
    <!-- Accordion Button -->
    <button type="button" class="accordion-button w-full flex justify-between items-center text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 font-medium text-gray-800 focus:outline-none" aria-expanded="false">
        <span>10. Budget - Stationery & Printing</span>
        <svg class="w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>

    <!-- Accordion Content -->
    <div class="accordion-content p-4 space-y-4 border-t border-gray-200" style="display: none;">
        
        <!-- This container will hold the dynamically added stationery rows -->
        <div id="stationery-container" class="space-y-4">
            <!-- JavaScript will insert stationery entry rows here. -->
        </div>

        <!-- The button to trigger adding a new stationery row -->
        <div class="flex mt-4">
            <button type="button" id="addStationeryBtn" class="flex items-center px-3 py-2 border border-green-600 text-green-600 rounded-md text-sm hover:bg-green-50">
                <svg class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                Add Stationery/Printing Item
            </button>
        </div>
        
    </div>
</div>

<!-- ========================================================== -->
<!-- Section 11: Budget - Dissemination                         -->
<!-- This is a DYNAMIC section.                                 -->
<!-- ========================================================== -->
<div class="border rounded-md overflow-hidden">
    <!-- Accordion Button -->
    <button type="button" class="accordion-button w-full flex justify-between items-center text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 font-medium text-gray-800 focus:outline-none" aria-expanded="false">
        <span>11. Budget - Dissemination</span>
        <svg class="w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>

    <!-- Accordion Content -->
    <div class="accordion-content p-4 space-y-4 border-t border-gray-200" style="display: none;">
        
        <!-- This container will hold the dynamically added dissemination rows -->
        <div id="dissemination-container" class="space-y-4">
            <!-- JavaScript will insert dissemination entry rows here. -->
        </div>

        <!-- The button to trigger adding a new dissemination row -->
        <div class="flex mt-4">
            <button type="button" id="addDisseminationBtn" class="flex items-center px-3 py-2 border border-green-600 text-green-600 rounded-md text-sm hover:bg-green-50">
                <svg class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                Add Dissemination Item
            </button>
        </div>
        
    </div>
</div>

<!-- ========================================================== -->
<!-- Section 12: Budget - Miscellaneous                         -->
<!-- This is a DYNAMIC section.                                 -->
<!-- ========================================================== -->
<div class="border rounded-md overflow-hidden">
    <!-- Accordion Button -->
    <button type="button" class="accordion-button w-full flex justify-between items-center text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 font-medium text-gray-800 focus:outline-none" aria-expanded="false">
        <span>12. Budget - Miscellaneous</span>
        <svg class="w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>

    <!-- Accordion Content -->
    <div class="accordion-content p-4 space-y-4 border-t border-gray-200" style="display: none;">
        
        <!-- This container will hold the dynamically added miscellaneous rows -->
        <div id="misc-container" class="space-y-4">
            <!-- JavaScript will insert miscellaneous entry rows here. -->
        </div>

        <!-- The button to trigger adding a new miscellaneous row -->
        <div class="flex mt-4">
            <button type="button" id="addMiscBtn" class="flex items-center px-3 py-2 border border-green-600 text-green-600 rounded-md text-sm hover:bg-green-50">
                <svg class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                Add Miscellaneous Item
            </button>
        </div>
        
    </div>
</div>

<!-- ========================================================== -->
<!-- Section 13: Project Outcomes & Final Report                -->
<!-- This is a STATIC section.                                  -->
<!-- ========================================================== -->
<div class="border rounded-md overflow-hidden">
    <!-- Accordion Button -->
    <button type="button" class="accordion-button w-full flex justify-between items-center text-left px-4 py-3 bg-gray-100 hover:bg-gray-200 font-medium text-gray-800 focus:outline-none" aria-expanded="false">
        <span>13. Project Outcomes & Final Report</span>
        <svg class="w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" /></svg>
    </button>

    <!-- Accordion Content -->
    <div class="accordion-content p-4 space-y-4 border-t border-gray-200" style="display: none;">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
            
            <div>
                <label for="progressReport" class="block text-sm font-medium text-gray-700 mb-1">Progress Reports (Interim/Final)</label>
                <input type="text" name="progressReport" id="progressReport" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>

            <div>
                <label for="scopus" class="block text-sm font-medium text-gray-700 mb-1">Deliverables (e.g., Scopus Publication)</label>
                <input type="text" name="scopus" id="scopus" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>

            <div>
                <label for="deadline" class="block text-sm font-medium text-gray-700 mb-1">Deliverables Deadline</label>
                <input type="date" name="deadline" id="deadline" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>

            <div>
                <label for="extensionRequested" class="block text-sm font-medium text-gray-700 mb-1">Extension Requested</label>
                <select name="extensionRequested" id="extensionRequested" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="No">No</option>
                    <option value="Yes">Yes</option>
                </select>
            </div>

            <div class="md:col-span-2">
                <label for="extensionDuration" class="block text-sm font-medium text-gray-700 mb-1">Extension Duration</label>
                <input type="text" name="extensionDuration" id="extensionDuration" placeholder="e.g., 3 months" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
            </div>

            <div class="md:col-span-2">
                <label for="finalReportDoc_uploader" class="block text-sm font-medium text-gray-700 mb-1">Upload Final Report</label>
                <input type="file" name="finalReportDoc_uploader" id="finalReportDoc_uploader" class="block w-full text-sm text-gray-700 border border-gray-300 rounded-md shadow-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100">
                <!-- We can add a display span for the current file later with JS -->
            </div>

        </div>
    </div>
</div>





</div> 
<!-- this div is the end of according HTML Form -->

                    <!-- Form Action Buttons -->
                    <div class="flex justify-end gap-3 pt-8 border-t">
    <!-- Secondary Button Style -->
    <button type="button" id="cancelBtn" class="px-4 py-2 bg-white text-gray-700 font-medium text-sm border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200">
        Cancel
    </button>
    <!-- Primary Button Style -->
    <button type="submit" class="px-4 py-2 bg-indigo-600 text-white font-medium text-sm rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed">
        Save Grant
    </button>
</div>
                </form>
            </div>
        </main>
    </div>

    <div id="viewModal" class="modal-overlay" style="display: none;">
    <div class="modal-content-lg"> <!-- Use a larger modal for details -->
        <div class="modal-header">
            <h2 class="text-xl font-bold text-gray-800">Project Details</h2>
            <!-- This button will be hooked into by the hideForm/cancel logic -->
            <button type="button" onclick="document.getElementById('viewModal').style.display='none'" class="modal-close-btn">Ã—</button>
        </div>
        <div class="modal-body">
            <!-- The JavaScript will inject the grant details into this container -->
            <div id="viewDetailsContainer" class="p-4 md:p-6 text-gray-700">
                <!-- Content will be generated here -->
                <p>Loading...</p>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" onclick="document.getElementById('viewModal').style.display='none'" class="btn-secondary">Close</button>
        </div>
    </div>
</div>

<!-- ============================================= -->
<!-- === NEW: MODAL FOR ASSIGNING INVENTORY === -->
<!-- ============================================= -->
<div id="assignInventoryModal" class="modal-overlay" style="display: none;">
    <div class="modal-content" style="max-width: 500px;">
        <div class="modal-header">
             <h2 id="assignModalTitle">Assign Asset from Inventory</h2>
             <button type="button" class="modal-close-btn" id="closeAssignModalBtn">Ã—</button>
        </div>
        <div class="modal-body">
            <div class="p-4 md:p-6 space-y-4">
                <div>
                    <label for="inventoryDropdown" class="block text-sm font-medium text-gray-700 mb-1">Select Available Asset</label>
                    <select id="inventoryDropdown" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500">
                        <option value="">Loading...</option>
                    </select>
                </div>
                <div id="piDropdownContainer" style="display: none;">
                    <label for="piDropdown" class="block text-sm font-medium text-gray-700 mb-1">Assign to Specific PI</label>
                    <select id="piDropdown" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm focus:ring-indigo-500 focus:border-indigo-500"></select>
                </div>
            </div>
        </div>
        <div class="modal-footer">
             <button type="button" class="btn-secondary" id="cancelAssignBtn">Cancel</button>
             <button type="button" class="btn-primary" id="confirmAssignBtn">Assign Asset</button>
        </div>
    </div>
</div>
<!-- ============================================= -->
<!-- === NEW: MODAL FOR ADVANCED FILTERING      === -->
<!-- ============================================= -->
<div id="filterModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="filterModalTitle">Advanced Filters</h2>
            <button type="button" class="modal-close-btn" id="closeFilterModalBtn">Ã—</button>
        </div>
        <div class="modal-body">
            <div id="filterForm" class="p-4 grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-6">

                <!-- Project Name Filter -->
                <div>
                    <label for="filterProjectName" class="block text-sm font-medium text-gray-700 mb-1">Project Name</label>
                    <input type="text" id="filterProjectName" placeholder="Contains..." class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm">
                </div>

                <!-- PI Name Filter -->
                <div>
                    <label for="filterPiName" class="block text-sm font-medium text-gray-700 mb-1">Principal Investigator (PI)</label>
                    <input type="text" id="filterPiName" placeholder="Contains..." class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm">
                </div>

                <!-- School/Institute Filter -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">School/Institute</label>
                    <div class="p-2 border border-gray-300 rounded-md max-h-32 overflow-y-auto space-y-1">
                        <!-- Checkbox items will be inserted here based on your list -->
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal Global Law School" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal Global Law School</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal Global Business School" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal Global Business School</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal School of Art and Architecture" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal School of Art and Architecture</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal School of International Affairs" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal School of International Affairs</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal School of Government and Public Policy" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal School of Government and Public Policy</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal School of Liberal Arts and Humanities" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal School of Liberal Arts and Humanities</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal School of Journalism and Communication" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal School of Journalism and Communication</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal School of Banking and Finance" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal School of Banking and Finance</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal School of Environment and Sustainability" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal School of Environment and Sustainability</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal School of Psychology and Counselling" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal School of Psychology and Counselling</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal School of Languages and Literature" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal School of Languages and Literature</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal School of Public Health and Human Development" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal School of Public Health and Human Development</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal India Institute(JII)" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal India Institute(JII)</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal Institute of Behavioural Sciences" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal Institute of Behavioural Sciences</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="International Institute for Higher Education Research & Capacity Building" class="h-4 w-4 rounded"><label class="ml-2 text-sm">International Institute for Higher Education Research & Capacity Building</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="The Motwani Jadeja Institute for American Studies (MJIAS)" class="h-4 w-4 rounded"><label class="ml-2 text-sm">The Motwani Jadeja Institute for American Studies (MJIAS)</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="Jindal Institute of Haryana Studies" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Jindal Institute of Haryana Studies</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterSchool" value="The Jindal Institute of Leadership Development and Executive Education (JILDEE)" class="h-4 w-4 rounded"><label class="ml-2 text-sm">The Jindal Institute of Leadership Development and Executive Education (JILDEE)</label></div>
                    </div>
                </div>

                <!-- Overall Project Status Filter -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Overall Project Status</label>
                    <div class="p-2 border border-gray-300 rounded-md space-y-1">
                        <div class="flex items-center"><input type="checkbox" name="filterOverallStatus" value="Ongoing" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Ongoing</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterOverallStatus" value="Completed" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Completed</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterOverallStatus" value="Delayed" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Delayed</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterOverallStatus" value="Terminated" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Terminated</label></div>
                    </div>
                </div>
                
                <!-- Term Filter -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Term</label>
                    <div class="p-2 border border-gray-300 rounded-md space-y-1">
                        <div class="flex items-center"><input type="checkbox" name="filterTerm" value="Short" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Short</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterTerm" value="Medium" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Medium</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterTerm" value="Long" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Long</label></div>
                    </div>
                </div>

                <!-- Application Status Filter -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Application Status</label>
                    <div class="p-2 border border-gray-300 rounded-md space-y-1">
                        <div class="flex items-center"><input type="checkbox" name="filterApplicationStatus" value="Accepted" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Accepted</label></div>
                        <div class="flex items-center"><input type="checkbox" name="filterApplicationStatus" value="Rejected" class="h-4 w-4 rounded"><label class="ml-2 text-sm">Rejected</label></div>
                    </div>
                </div>

                <!-- Total Sanctioned Amount Filter -->
                <div class="md:col-span-2">
                     <label class="block text-sm font-medium text-gray-700 mb-1">Total Sanctioned Amount Range</label>
                     <div class="flex items-center gap-4">
                         <input type="number" id="filterAmountMin" placeholder="Min Amount" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm">
                         <span>-</span>
                         <input type="number" id="filterAmountMax" placeholder="Max Amount" class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm sm:text-sm">
                     </div>
                </div>

            </div>
        </div>
        <div class="modal-footer">
             <button type="button" class="btn btn-secondary" id="clearFiltersBtn">Clear All Filters</button>
             <button type="button" class="btn btn-primary" id="applyFiltersBtn">Apply Filters</button>
        </div>
    </div>
</div>


    <!-- Scripts at the end for faster page load -->
    <!-- We will build this new JS file to control this page -->
    <script src="/js/internalGrant.js"></script>
    
</body>
</html>